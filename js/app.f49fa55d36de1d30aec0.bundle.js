(self.webpackChunk=self.webpackChunk||[]).push([[524],{44:(e,t,n)=>{const o=n(89),{createProgressiveTraceGenerator:i}=n(863),{lightningChart:a,AutoCursorModes:r,AxisTickStrategies:s,Themes:l}=o,d=new Date(2020,0,1),c=d.getTime(),p=a().ChartXY({}).setAutoCursorMode(r.disabled).setTitle("Custom Cursor using HTML");p.getDefaultAxisX().setTickStrategy(s.DateTime,(e=>e.setDateOrigin(d))),p.getDefaultAxisY().setTitle("Stock price variation â‚¬");const g=new Array(3).fill(0).map(((e,t)=>p.addPointLineSeries().setMouseInteractions(!1)));Promise.all(g.map((e=>i().setNumberOfPoints(20).generate().toPromise().then((e=>e.map((e=>({x:c+2592e6*e.x,y:e.y}))))).then((e=>e.map((e=>({x:e.x-c,y:e.y}))))).then((t=>{e.add(t)}))))).then((()=>{p.forEachAxis((e=>e.fit(!1))),setTimeout((()=>{f({clientX:.4*window.innerWidth,clientY:window.innerHeight/2})}),1500)}));const u=g.map((e=>{const t=e.getStrokeStyle().getFillStyle().getColor();return`rgba(${t.getR()},${t.getG()},${t.getB()},${t.getA()})`})),h=(document.head.appendChild(document.createElement("style")),document.createElement("div"));h.id="resultTable";const x=document.createElement("div");x.id="line";const y=document.createElement("div");y.id="line2";const m=document.createElement("div");m.id="arrow",h.appendChild(x),h.appendChild(y),h.appendChild(m),p.engine.container.append(h);const f=e=>{const t=p.translateCoordinate(e,p.coordsAxis),n=g.map((t=>t.solveNearestFromScreen(e))),o=n.reduce(((e,n,o)=>e?n&&Math.abs(t.y-n.location.y)<Math.abs(t.y-e.location.y)?n:e:n));if(o){const e=p.translateCoordinate(o.location,p.coordsAxis,p.coordsClient);o.location.x>p.getDefaultAxisX().getInterval().end/1.5?(h.style.left=`${Math.round(e.clientX-h.clientWidth-10)}px`,h.style.top=`${Math.round(e.clientY-h.clientHeight/2)}px`,m.style.left="142px",m.style.transform="translate(-40%, -50%) rotate(-135deg)"):(h.style.left=`${Math.round(e.clientX+10)}px`,h.style.top=`${Math.round(e.clientY-h.clientHeight/2)}px`,m.style.left="-1px",m.style.transform="translate(-50%, -50%) rotate(45deg)"),x.innerHTML=`<b>Date: </b> <span id = 'date'>${new Date(2021,0,o.location.x/864e5+1).toLocaleDateString()}</span>`;const t=n.map((e=>e?e.location.y:0));let i="";for(let e=0;e<g.length;e++){const o=t[e]>0?"+":"";i+=`<div class='values' style='color: ${u[e]}' ><span>${g[e].getName()}:</span> ${o+p.getDefaultAxisY().formatValue(n[e].location.y)}</div>`}y.innerHTML=i,h.style.opacity=1}else h.style.opacity=0},b=(e,t)=>{f(t)};p.onSeriesBackgroundMouseMove(b),g.forEach((e=>{e.onMouseMove(b)})),p.onSeriesBackgroundMouseLeave(((e,t)=>{h.style.opacity=0})),p.onSeriesBackgroundMouseDragStart(((e,t)=>{h.style.opacity=0})),p.getDefaultAxisY().onIntervalChange((()=>{h.style.opacity=0})),p.getDefaultAxisX().onIntervalChange((()=>{h.style.opacity=0})),function(e){const t=document.createElement("style");t.textContent="\n    #resultTable {\n        background-color: rgba(24, 24, 24, 0.9);\n        color: white;\n        font-size: 12px;\n        border: solid white 2px;\n        border-radius: 5px;\n        width: 142px;\n        // height: 110px;\n        height: auto;\n        top: 0;\n        left: 0;\n        position: fixed;\n        padding: 0;\n        pointer-events:none;\n        z-index: 1;\n        transition: left 0.2s, top 0.2s, opacity 0.2s;\n        opacity: 0.0;\n    }\n    #arrow {\n        position: absolute;\n        background-color: rgba(24, 24, 24);\n        height: 10px;\n        width: 10px;\n        top: 49%;\n        border-left: solid white 2px;\n        border-bottom: solid white 2px;\n        box-shadow: 0 0 10px rgba(0, 0, 0, .5);\n        transform-origin: center center;\n    }\n    p {\n        margin:0;\n    }\n    #date {\n        text-align: center;\n    }\n    .values {\n        display: flex;\n        justify-content: space-between;\n        align-items center;\n        margin: 5px 0;\n    }\n    .values span {\n        margin-right: 10px \n    }\n    #line {\n        background-color: grey;\n        border-top-right-radius: 4px;\n        border-top-left-radius: 4px;\n        margin: 0;\n        padding: 7px;\n        font-size: 10px;\n        height: 20%;\n        font-family: Arial, sans-serif;\n        width: auto;\n        heigth: 100%;\n    }\n    #line2 {\n        font-size: 13px;\n        font-weight: 900;\n        padding: 5px 14px\n    }\n",document.head.append(t)}()}},e=>{e.O(0,[502],(()=>(44,e(e.s=44)))),e.O()}]);